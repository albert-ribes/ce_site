{% extends "ce_availability/base.html" %}

{% block content %}
    {% if user.is_authenticated %}
        <h3>New Unavailability</h3>
        <p>Please introduce the details of your new unavailability:</p>
	<div class=unavailability_form>	
		<form method="POST" class="post-form" novalidate>{% csrf_token %}
        	{% comment %}
		{{ form.as_p }}
		{% endcomment%}

		<div class="fieldForm">
                        <label for="{{ form.unavailability.id_for_label }}">CE:</label>
                        <div class="input_field_insert"> {{ form.user }} </div>
                        <div class="error_field">
                                {% if form.user.errors %}
                                        {% for error in form.user.errors %}
                                        <div class="form_error"> {{ error|escape }}</div>
                                        {% endfor %}
                                {% endif %}
                        </div>
                </div>

		<div class="fieldForm">
	    		<label for="{{ form.unavailability.id_for_label }}">Unavailability:</label>
		    	<div class="input_field_insert"> {{ form.unavailability }} </div>
			<div class="error_field">
	                        {% if form.unavailability.errors %}
					{% for error in form.unavailability.errors %}
			            	<div class="form_error"> {{ error|escape }}</div>
					{% endfor %}
				{% endif %}
			</div>
		</div>

		<div class="fieldForm">
			<label for="{{ form.hours.id_for_label }}">Hours:</label>
		        <div class="input_field_insert"> {{ form.hours }} </div>
			<div class="error_field">
	                     	{% if form.hours.errors  %}
					{% for error in  form.hours.errors %}
					<div class="form_error"> {{ error|escape }}</div>
					{% endfor %}
				{% endif %}
			</div>
		</div>

		<div class="fieldForm">
		    	<label for="{{ form.start_date.id_for_label }}">Date:</label>
		     	<div class="input_field_insert"> {{ form.start_date }} </div>
			<div class="error_field">
				{% if form.start_date.errors  %}
					{% for error in form.start_date.errors  %}
					<div class="form_error"> {{ error|escape }}</div>
					{% endfor %}
	                        {% endif %}
			</div>
		</div>
		{%comment%}
		<div class="fieldForm">
		     	<label for="{{ form.end_date.id_for_label }}">End date:</label>
		     	<div class="input_field"> {{ form.end_date }} </div>
			<div class="error_field">
				{% if form.end_date.errors  %}
	                                {% for error in form.end_date.errors  %}
					<div class="form_error"> {{ error|escape }}</div>
					{% endfor %}
	                        {% endif %}
			</div>
		</div>
		{%endcomment%}
		<div class="fieldForm">
                    	<label for="{{ form.comments.id_for_label }}">Comments:</label>
                    	<div class="input_field_insert"> {{ form.comments }} </div>
			<div class="error_field">
				{% if form.comments.errors  %}
	                                {% for error in form.comments.errors  %}
					<div class="form_error"> {{ error|escape }}</div>
					{% endfor %}
	                        {% endif %}
			</div>
                </div>
		<div class="form_error"> {{ form.non_field_errors }} </div>


	</div>
                 <button type="submit" class="save btn btn-default">Save</button>

        </form>

    {% else %}
        <p>Welcome to the <b>CE Availability tool</b>. Please <a href="login">login</a> to add, view and edit yout unavailabilities.</p>
    {% endif %}
    <div id="content">
    </div>
{% endblock %}

